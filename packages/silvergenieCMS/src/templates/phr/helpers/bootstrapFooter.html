<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
  crossorigin="anonymous"
></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>
<script type="text/javascript">
  const pageBreak = `<div style="page-break-after: always"></div>`;
  const pixelPerMM = $("body").width() / 210;
  const allowedPageHeight = pixelPerMM * 297;
  let pageHeight = 0;
  console.log(pixelPerMM);
  $(".phr-section").each((index, value) => {
    const c = $(value);
    const cHeight = c.height() + 26;
    pageHeight = pageHeight + cHeight;
    if (pageHeight > allowedPageHeight) {
      pageHeight = cHeight;
      c.before(pageBreak);
    }
  });
</script>
